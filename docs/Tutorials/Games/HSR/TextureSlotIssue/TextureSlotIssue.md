# 🎨 HSR 匹诺康尼贴图问题

## 📝 问题描述

![alt text](image.png)

人物角色会在匹诺康尼部分地区出现变色问题，这是因为匹诺康尼独特的 Shader 导致的。

## 🛠️ 解决方案

要解决这个问题可以参考 `sp+` 大佬的教学：

![alt text](image-1.png)

![alt text](image-2.png)

### 核心原理

简单地说就是为了避免 PS 槽位在贴图未加载时就被替换导致的 **槽位污染问题**，我们给每个对应的贴图都加一个 `filter_index`，数值随便填不一样的。

![alt text](image-3.png)

然后使用到贴图的时候判断对应槽位加载的是不是对应的贴图即可。

![alt text](image-4.png)

> 💡 **建议**：要是看不懂的话，可以先照着写下来去游戏里测试看效果，或者找个其他人做好的 Mod 看一下别人是怎么写的，照猫画虎。

### 自动化工具

如果你用的是 **SSMT**，也可以勾选来全自动生成：

![alt text](image-5.png)

### 补充说明

顺带提一下，**ZZZ** 全 NPC 仰视和俯视窜贴图槽位跟上面一样，用 `filter_index` 给贴图的 hash 打标签，用的时候判断是具体的贴图再去使用。




